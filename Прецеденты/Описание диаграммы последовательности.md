# Описание диаграммы последовательности

## 1. Ход игрока (Першин)
1. Игра спрашивает действие игрока
2. Игра вызывает метод Move у игрока
3. Игрок.Move() вызывает Доска.Move() и передает туда свой id
4. Доска кидает кубик через Стакан (метод Roll())
5. Доска получает количество ходов
6. Доска высчитывает следующую позицию игрока
7. Доска перемещает игрока на позицию
8. Доска вызывает метод Handle у клетки
9. Клетка выполняет свое действие
   
[![](https://img.plantuml.biz/plantuml/dsvg/ZLJBJi9G4DqtwJ_SiD95Vu0OmqvT61FzWWPOa5GWjB8M23w2aPYuCEvSkQreGorIVc7cZpptbiUzBHeMbEamSywPC_TIyGEt4rnTUhRbLeDMHz0xHJIZb2RuJcpBjioCS0u5lT0dNrDO5ZIba1Oyu1ubY2BkAvn6rmtgwp90B2EjEQMaB4vRtVhUVh4bbSoRMBKzKvgnR6jR_sXRRSpJg3RQRZCG9NhZFdH9RNF1FK493-Y3OfNveRWaN5ySUQxlWsyD8lbKiYpEMvvdK2sBRKi5mib9WqafJ9d8QVa-imIiICuevbkyzg08HOA7I7v9MsshLi_Zcs8CXXG3pDKwPZpEy1UADEORV1u5nbiQfxmtaLuX13qPrh7Rh7avAxK2D6jlnLcXHCu9FI7tUGH5sRmem8Jy90DPCm90J94m1iqHQIgDGsBsQ7lMZuTs9irw3KO_XQW_ERieItqBjQaxw5kfbvBbOo7jnFSS-Ha_q1np30LM5j7tSeinZtcecGTGsy8ZKsJScx_8vEea-bGLmaVPnECCvi1n2Z1me0yHAwrAXxftQzxDxTnU-W-fvfsQnR1ClxauuQCC1hwCLxuLB4CSvIoZQ8Vxlij2Y-bGRhbIRzRK_zal)](https://editor.plantuml.com/uml/ZLJBJi9G4DqtwJ_SiD95Vu0OmqvT61FzWWPOa5GWjB8M23w2aPYuCEvSkQreGorIVc7cZpptbiUzBHeMbEamSywPC_TIyGEt4rnTUhRbLeDMHz0xHJIZb2RuJcpBjioCS0u5lT0dNrDO5ZIba1Oyu1ubY2BkAvn6rmtgwp90B2EjEQMaB4vRtVhUVh4bbSoRMBKzKvgnR6jR_sXRRSpJg3RQRZCG9NhZFdH9RNF1FK493-Y3OfNveRWaN5ySUQxlWsyD8lbKiYpEMvvdK2sBRKi5mib9WqafJ9d8QVa-imIiICuevbkyzg08HOA7I7v9MsshLi_Zcs8CXXG3pDKwPZpEy1UADEORV1u5nbiQfxmtaLuX13qPrh7Rh7avAxK2D6jlnLcXHCu9FI7tUGH5sRmem8Jy90DPCm90J94m1iqHQIgDGsBsQ7lMZuTs9irw3KO_XQW_ERieItqBjQaxw5kfbvBbOo7jnFSS-Ha_q1np30LM5j7tSeinZtcecGTGsy8ZKsJScx_8vEea-bGLmaVPnECCvi1n2Z1me0yHAwrAXxftQzxDxTnU-W-fvfsQnR1ClxauuQCC1hwCLxuLB4CSvIoZQ8Vxlij2Y-bGRhbIRzRK_zal)

## 2. Покупка недвижимости (Королев)
1. Доска вызывает Handle у клетки
2. Клетка является классом КлеткаСНедвижимолстью
3. Клетка узнает цену своей недвижимости у РеестраНедвижимости
4. Клетка спрашивает у игрока, хочет ли он купить её недвижимость
5. Игрок решает купить
6. Клетка идет в РеестрНедвижимости в метод BuyHouse
7. РеестрНедвижимости идет в Банк и делает DecreaseBalance у игрока
8. РеестрНедвижимости добавляет Недвижимость в маппинг

[![](https://img.plantuml.biz/plantuml/dsvg/ZLJDQjj04BuBz0v3JWx4Bs1A2McXwQcXUO2oo4ihK1mZoG7V_4FQb9g6GW-bKEWZk7BK6BkMNs7sZJgpihIxZjtcOBEhcVc-cM-_tUCa5N7QkuXyJmJfPGpu3MTgW0KkVAzBeJ08kwAJ0dx5GWrnWLFt-m5-noNcQiGXK4F07vZZ7MOunz_q-yDbQgGcwlC1Y0HEBtk9V2QZQ1lc9vNbEdNm29ZNycsOf77VztpFj0RDfuQW1QUYquvauz3twe-SKTMsu8LCTUGi3WFPUCVBGor4U2LIQVTQVpF4rOeXztNR0hp7AQv9qQcweKX6En8Br7igMAcnXRmFms9wqcp-YogZOxl7J9DzV43Kbe-WCa8nbr7gFzXR2hzyTTwYGtmuzn6eQoBxeCl9DtF0XHhZ6kSbVTqX8VWU_K6JrQqzkHiLQBb9O7kQCIqlcxM6B3iSKFLDXU4qOejbeRZoQ92Toj2C8mhevPhYIpMXd88Rfa1E-rk7Gu-xrwOdlRwEDBgHwCluJTW-WigiMpxyGWsiMAVdCeYbIEI9Y4Gdi4fjWrVf9CzcvO9egGizo43TbkFyek2I4_YIEhgxDgr1-CH8rg7wPCxhJXjdWZESkrhN3Pcft3jDfONk8MCHIxJLRZVJqG3jwFfn0vGrSxZCJRPav_7hvuG5uD4r_CRouz9-JCyp46xke5flnh7ijFNB-XS0)](https://editor.plantuml.com/uml/ZLJDQjj04BuBz0v3JWx4Bs1A2McXwQcXUO2oo4ihK1mZoG7V_4FQb9g6GW-bKEWZk7BK6BkMNs7sZJgpihIxZjtcOBEhcVc-cM-_tUCa5N7QkuXyJmJfPGpu3MTgW0KkVAzBeJ08kwAJ0dx5GWrnWLFt-m5-noNcQiGXK4F07vZZ7MOunz_q-yDbQgGcwlC1Y0HEBtk9V2QZQ1lc9vNbEdNm29ZNycsOf77VztpFj0RDfuQW1QUYquvauz3twe-SKTMsu8LCTUGi3WFPUCVBGor4U2LIQVTQVpF4rOeXztNR0hp7AQv9qQcweKX6En8Br7igMAcnXRmFms9wqcp-YogZOxl7J9DzV43Kbe-WCa8nbr7gFzXR2hzyTTwYGtmuzn6eQoBxeCl9DtF0XHhZ6kSbVTqX8VWU_K6JrQqzkHiLQBb9O7kQCIqlcxM6B3iSKFLDXU4qOejbeRZoQ92Toj2C8mhevPhYIpMXd88Rfa1E-rk7Gu-xrwOdlRwEDBgHwCluJTW-WigiMpxyGWsiMAVdCeYbIEI9Y4Gdi4fjWrVf9CzcvO9egGizo43TbkFyek2I4_YIEhgxDgr1-CH8rg7wPCxhJXjdWZESkrhN3Pcft3jDfONk8MCHIxJLRZVJqG3jwFfn0vGrSxZCJRPav_7hvuG5uD4r_CRouz9-JCyp46xke5flnh7ijFNB-XS0)

## 3. Оплата аренды (Галитров)
1. Доска вызывает Handle у клетки
2. Клетка является классом КлеткаСНедвижимолстью
3. Клетка узнает цену своей недвижимости у РеестраНедвижимости
4. Клетка узнает, есть ли у ее недвижимости владелец
5. Владелец есть
6. Клетка вызывает РеестрНедвижимости.PayRent
7. Реестр недвижимости вызывает Банк.DecreaseBalance

[![](https://img.plantuml.biz/plantuml/dsvg/ZLFRIiD047qlz1-MFbMmFn14YWhspT8Va2KPD11ZIRPAttg1ebW4mIT1y1DAscXfRViBit_aR6gp6qji7mAJpCuv9-VCLaF10z6wyOg59XMkxJQvBnY-ub9sSOQZxFSIlk4SOzbJBIQx3DynnWb6ECLFUhxLcEp9eNmkCHwoscqhX5FmlBym7pGM9qSxUy0quCeDHT0k5hGmLZdMy1QhST_ne7nGB71Rk7TSW4cUbcfgWsQnSn19fnwuDfIlLMa2QDfDfSRpj5eClt24Azd1aNoWJaHlP1MJ0nfOoBw1d8TXC1rLAlzHHRWakYWXUzmYSc0FAcsAujAkxC3UuUN5lGz1wgKsBXiNgUYHgZKs4Swfd133d38VgAtBOQdpTWDyKMvwl0t1fUiSicqgokY5y1OuizWPs07m44wuntqAEHqqWzuSf_twhHAzcfPMReLJCkufJJMHkv137EEKoJuZRyVas79zQSm0Kl0ympF7zT8P5gXVIZS_Bw7-UlSIDqaQ2OepoCPzg8Bl99V-1m00)](https://editor.plantuml.com/uml/ZLFRIiD047qlz1-MFbMmFn14YWhspT8Va2KPD11ZIRPAttg1ebW4mIT1y1DAscXfRViBit_aR6gp6qji7mAJpCuv9-VCLaF10z6wyOg59XMkxJQvBnY-ub9sSOQZxFSIlk4SOzbJBIQx3DynnWb6ECLFUhxLcEp9eNmkCHwoscqhX5FmlBym7pGM9qSxUy0quCeDHT0k5hGmLZdMy1QhST_ne7nGB71Rk7TSW4cUbcfgWsQnSn19fnwuDfIlLMa2QDfDfSRpj5eClt24Azd1aNoWJaHlP1MJ0nfOoBw1d8TXC1rLAlzHHRWakYWXUzmYSc0FAcsAujAkxC3UuUN5lGz1wgKsBXiNgUYHgZKs4Swfd133d38VgAtBOQdpTWDyKMvwl0t1fUiSicqgokY5y1OuizWPs07m44wuntqAEHqqWzuSf_twhHAzcfPMReLJCkufJJMHkv137EEKoJuZRyVas79zQSm0Kl0ympF7zT8P5gXVIZS_Bw7-UlSIDqaQ2OepoCPzg8Bl99V-1m00)


## 4. Получение штрафа / награды (карточка «шанс») (Моисеев Денис)
1. Доска вызывает Handle у клетки
2. Клетка является классом КлеткаШанс
3. Клетка вызывает метод DecreaseBalance/IncreaseBalance у банка для игрока по user_id
4. Банк меняет баланс

[![](https://img.plantuml.biz/plantuml/dsvg/RP5DQW9148Nt0tE7mfLPY7iNGJGBFOKKCmKPc3GoqsOTzG0YkF84BiUG0L6ZLtXperJ7tnPtNJ_lw_Uwsxdbp8u-qZ0OwY69aY4RIrZWK8snHU7tQrXYXxAQk15XXGA_rRX6d5FtdKqaNKaLTPDJu_Lkqg8UcpYL-aiOS6IJJxRY2SFWLZafvku6R5lKDr4cd4k7KxVGV1ElhezooGP9V0--YDNF-KID1plOezG4CnU9iDQjtIbI6CJo1EJxSmQlIHLsLCoN0dzqtG6hAOxQAF3j7aq96vGUs8_U5XF__yGV)](https://editor.plantuml.com/uml/RP5DQW9148Nt0tE7mfLPY7iNGJGBFOKKCmKPc3GoqsOTzG0YkF84BiUG0L6ZLtXperJ7tnPtNJ_lw_Uwsxdbp8u-qZ0OwY69aY4RIrZWK8snHU7tQrXYXxAQk15XXGA_rRX6d5FtdKqaNKaLTPDJu_Lkqg8UcpYL-aiOS6IJJxRY2SFWLZafvku6R5lKDr4cd4k7KxVGV1ElhezooGP9V0--YDNF-KID1plOezG4CnU9iDQjtIbI6CJo1EJxSmQlIHLsLCoN0dzqtG6hAOxQAF3j7aq96vGUs8_U5XF__yGV)
